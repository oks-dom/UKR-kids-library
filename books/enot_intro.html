
<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="UTF-8" />
  <title>–ö–∞–∑–∫–∞ –ø—Ä–æ –Ñ–Ω–æ—Ç–∞. –í—Å—Ç—É–ø</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    body {
      font-family: Arial, sans-serif;
      padding: 2rem;
      background: #f9f9f9;
      max-width: 800px;
      margin: auto;
      line-height: 1.6;
    }
    h1 {
      color: #2e7d32;
    }
    .highlight {
      background-color: #FFF59D;
      transition: background-color 0.3s;
    }
    #story {
      padding-bottom: 70px;
    }
    #story span {
      display: inline-block;
      margin: 2px 0;
      padding: 2px 4px;
      border-radius: 3px;
      cursor: pointer;
    }
    .audio-wrapper {
      position: sticky;
      top: 0;
      background-color: #f9f9f9;
      padding: 0.5rem 0;
      z-index: 1000;
      border-bottom: 1px solid #ccc;
    }
    .dark-mode {
      background-color: #121212;
      color: #f0f0f0;
    }
    .dark-mode h1 {
      color: #81d4fa;
    }
    .dark-mode #story span {
      color: #ffffff;
    }
    .theme-toggle {
      position: fixed;
      top: 20px;
      right: 20px;
      display: flex;
      gap: 10px;
    }
    .theme-btn {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      border: none;
      cursor: pointer;
      font-size: 24px;
    }
    #darkBtn {
      background-color: #f0f0f0;
    }
    #lightBtn {
      background-color: transparent;
    }
    .pagination {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 10px;
      padding: 8px 0;
      background: #fff;
      border-top: 1px solid #ccc;
      position: fixed;
      left: 0;
      bottom: 0;
      width: 100vw;
      z-index: 100;
    }
    .pages {
      display: flex;
      gap: 8px;
      overflow-x: auto;
      max-width: 80vw;
      scrollbar-width: none;
    }
    .pages::-webkit-scrollbar {
      display: none;
    }
    .pagination a, .pagination button {
      min-width: 40px;
      min-height: 40px;
      font-size: 1.2em;
      background: #f5f5f5;
      border: none;
      color: #888;
      border-radius: 8px;
      text-align: center;
      line-height: 40px;
      cursor: pointer;
    }
    .pagination a:hover, .pagination button:hover {
      background: #e6f0fa;
    }
    .pagination a.home {
      font-size: 1.3em;
      border-radius: 50%;
    }
    .pagination button.arrow {
      background: #4a90e2;
      color: #fff;
      font-weight: bold;
    }
    .pagination button:disabled {
      background: #ddd;
      color: #aaa;
      cursor: not-allowed;
    }
  </style>
</head>
<body class="">
  <div class="theme-toggle">
    <button id="darkBtn" class="theme-btn">üåô</button>
    <button id="lightBtn" class="theme-btn">‚òÄÔ∏è</button>
  </div>

  <div class="audio-wrapper">
    <audio id="audioPlayer" controls>
      <source src="https://ia601502.us.archive.org/21/items/enot_introV4/enot_introV4.mp3" type="audio/mp3">
    </audio>
  </div>

  <h1>–ö–∞–∑–∫–∞ –ø—Ä–æ –Ñ–Ω–æ—Ç–∞. –í—Å—Ç—É–ø</h1>
  <div id="story">
    <img id="storyImage" src="https://archive.org/download/intro_enot/intro_enot.png" onclick="toggleImageSize()" style="max-width: 25%; cursor: pointer;">
    <span data-start="0.0"> –£</span> <span data-start="1.32"> —Å–∞–º–æ–º—É</span> <span data-start="1.74"> —Å–µ—Ä—Ü—ñ</span> <span data-start="2.4"> —á–µ—Ä–µ–≤–Ω–æ–≥–æ</span> <span data-start="3.08"> –ª—ñ—Å—É</span> <span data-start="3.86"> —Å–µ—Ä–µ–¥</span> <span data-start="4.56"> –¥–µ—Ä–µ–≤,</span> <span data-start="5.08"> —â–æ</span> <span data-start="5.22"> –º—ñ–π</span> <span data-start="5.46"> —á–∏–ø–æ—á—ñ—Ç–∏</span> <span data-start="6.24"> —ñ–∑</span> <span data-start="6.66"> —Ç–µ–∂–æ–∫,</span> <span data-start="7.42"> —è–∫–∏–π</span> <span data-start="7.66"> –≤–µ–¥—É—Ç—å</span> <span data-start="8.06"> –ª–∏—à–µ</span> <span data-start="8.36"> —Ç–∏—Ö,</span> <span data-start="9.12"> —Ö—Ç–æ</span> <span data-start="9.34"> –≤—ñ—Ä—é—Ç—å</span> <span data-start="9.78"> —É</span> <span data-start="9.82"> –¥–∏–≤–æ.</span> <span data-start="10.88"> –ñ–∏–≤</span> <span data-start="11.2"> —Å–æ–±—ñ</span> <span data-start="11.6"> –º–∞–ª–µ–Ω—å–∫–∏–π</span> <span data-start="12.26"> —è–Ω–æ–¥</span> <span data-start="12.76"> –Ω–∞</span> <span data-start="13.04"> —è–º–∞–≥—Å.</span> <span data-start="15.02"> –£</span> <span data-start="15.12"> —Ü–µ–Ω—Ç—Ä—ñ</span> <span data-start="15.64"> —Ü—å–æ–≥–æ</span> <span data-start="15.88"> –ª—ñ—Å—É</span> <span data-start="16.46"> –±–∞–≥–∞—Ç–æ</span> <span data-start="16.96"> –ø–æ–∫–æ–ª—ñ–Ω—å</span> <span data-start="17.72"> —Å–≤—ñ—Ç–∏–≤—Å—è</span> <span data-start="18.6"> –∫–∞–º—ñ–Ω</span> <span data-start="19.16"> —Å–≤—ñ—Ç–ª–∞,</span> <span data-start="20.42"> –¥—Ä–µ–≤–Ω—ñ</span> <span data-start="20.82"> –æ–±–µ—Ä—ñ—Ö,</span> <span data-start="21.62"> —â–æ</span> <span data-start="21.74"> –≤—ñ–¥–≥–∞–Ω—è–≤</span> <span data-start="22.24"> –∑–ª–∏—Ö</span> <span data-start="22.7"> –¥—É—Ö—ñ–≤,</span> <span data-start="23.68"> —ñ</span> <span data-start="23.78"> –∑–∞—Ö–∏—â–∞–≤</span> <span data-start="24.32"> —É—Å—ñ—Ö</span> <span data-start="24.78"> –º–µ—à–∫–∞–Ω—Ü—ñ–≤.</span> <span data-start="25.46"> –í—ñ–Ω</span> <span data-start="26.54"> –¥–æ–ø–æ–º–∞–≥–∞–≤</span> <span data-start="27.16"> –º–∞–Ω–¥—Ä—ñ–≤–Ω–∏–∫–∞–º,</span> <span data-start="28.54"> –Ω–µ</span> <span data-start="28.6"> –∑–∞–≥—É–±–∏—Ç–∏—Å—è</span> <span data-start="29.34"> –≤</span> <span data-start="29.44"> –Ω—É—á—ñ,</span> <span data-start="30.32"> –∞</span> <span data-start="30.4"> –¥—Ä—É–∑—è–º</span> <span data-start="31.12"> –∑–Ω–∞—Ö–æ–¥–∏—Ç–∏</span> <span data-start="32.02"> –ø–æ</span> <span data-start="32.18"> —Ä–æ–∑—É–º—ñ–Ω—ñ.</span> <span data-start="33.58"> –ê–ª–µ</span> <span data-start="33.92"> –æ–¥–Ω–æ–≥–æ</span> <span data-start="34.32"> –¥–Ω—è</span> <span data-start="34.78"> –∫–∞–º—ñ–Ω</span> <span data-start="35.56"> –∑–Ω–∏–∫.</span> <span data-start="36.76"> –õ—ñ—Å–Ω—ñ</span> <span data-start="37.34"> –±–µ–∑–º—ñ–Ω–∏–≤—Å—è.</span> <span data-start="38.98"> –°—Ç–∏—à–∫–∏</span> <span data-start="39.56"> —Å—Ç–∞–ª–∏</span> <span data-start="39.88"> –ø–ª—É—Ç–∞–Ω–∏–º–∏,</span> <span data-start="41.4"> –∑</span> <span data-start="41.48">'—è–≤–∏–ª–∏—Å—è</span> <span data-start="42.08"> –¥–∏–≤–Ω—ñ</span> <span data-start="42.6"> —à—É–º–∏,</span> <span data-start="43.76"> –∞</span> <span data-start="43.84"> —Ç–≤–∞—Ä–∏–Ω–∏</span> <span data-start="44.54"> –ø–æ—á–∞–ª–∏</span> <span data-start="45.24"> —Å–≤–∞—Ä–∏—Ç–∏—Å—è</span> <span data-start="46.18"> —á–µ—Ä–µ–∑</span> <span data-start="46.56"> –¥—Ä—ñ–±–Ω–∏—Ü—ñ.</span> <span data-start="48.38"> –•—Ç–æ—Å—å</span> <span data-start="48.88"> –∫–∞–∑–∞–≤,</span> <span data-start="49.42"> —â–æ</span> <span data-start="49.58"> —Ü–µ</span> <span data-start="49.72"> –ø—Ä–æ—Å—Ç–æ</span> <span data-start="50.1"> –∑–≤</span> <span data-start="50.42">'—ó—Ö,</span> <span data-start="51.14"> –∞–ª–µ</span> <span data-start="51.36"> –º–∞–∫—Å</span> <span data-start="51.82"> –∑–Ω–∞–≤.</span> <span data-start="53.44"> –ú–∞–ª–µ–Ω—å–∫–∏–π,</span> <span data-start="54.94"> –∞–ª–µ</span> <span data-start="55.6"> –≤—ñ–¥</span> <span data-start="55.8"> –≤–∞–∂–Ω–∏–π</span> <span data-start="56.32"> —è–Ω–æ–¥</span> <span data-start="56.74"> –≤–∏—Ä—ñ—à–∏–≤,</span> <span data-start="57.74"> —â–æ</span> <span data-start="57.84"> —Ö—Ç–æ—Å—å</span> <span data-start="58.4"> –º–∞—î</span> <span data-start="58.68"> –∑–Ω–∞–π—Ç–∏</span> <span data-start="59.1"> –∫–∞–º—ñ–Ω</span> <span data-start="59.58"> —ñ</span> <span data-start="59.86"> –ø–æ–≤–µ—Ä–Ω—É—Ç–∏</span> <span data-start="60.52"> —Å–≤—ñ—Ç–ª–æ</span> <span data-start="61.14"> –ª—ñ—Å—É.</span> <span data-start="62.44"> –ê–¥–∂–∞–Ω–∞–≤</span> <span data-start="63.22">'—é—Ç—å</span> <span data-start="63.42"> –Ω–∞–π–º–µ–Ω—à–∏–º</span> <span data-start="64.06"> –º–æ–∂—É—Ç—å</span> <span data-start="64.44"> –∑–º—ñ–Ω–∏—Ç–∏</span> <span data-start="64.88"> —Å–≤—ñ—Ç,</span> <span data-start="65.84"> —è–∫—â–æ</span> <span data-start="66.14"> –¥—É–∂–µ</span> <span data-start="66.46"> –ø–æ—Å—Ç–∞—Ä–∞—é—Ç—å—Å—è.</span> <span data-start="68.08"> –Ü</span> <span data-start="68.2"> —Ç—É—Ç</span> <span data-start="68.4"> –ø–æ—á–∞–ª–∞—Å—è</span> <span data-start="69.16"> –π–æ–≥–æ</span> <span data-start="69.36"> –ø—Ä–∏–≥–æ–¥–∞.</span>
  </div>

  <div class="pagination">
    <a href="index.html" class="home">üè†</a>
    <button class="arrow prev" disabled>&lt;</button>
    <div class="pages">
      <a href="page1.html">1</a>
      <a href="page2.html">2</a>
    </div>
    <button class="arrow next">&gt;</button>
  </div>

  <script>
    // –¢–µ–º–∞
    const darkBtn = document.getElementById('darkBtn');
    const lightBtn = document.getElementById('lightBtn');
    const body = document.body;

    if (localStorage.getItem('theme') === 'dark') {
      body.classList.add('dark-mode');
    }

    darkBtn.addEventListener('click', () => {
      body.classList.add('dark-mode');
      localStorage.setItem('theme', 'dark');
    });

    lightBtn.addEventListener('click', () => {
      body.classList.remove('dark-mode');
      localStorage.setItem('theme', 'light');
    });

    // –ê—É–¥—ñ–æ —Ç–∞ –ø—ñ–¥—Å–≤—ñ—á—É–≤–∞–Ω–Ω—è
    const audio = document.getElementById('audioPlayer');
    const textSpans = document.querySelectorAll('#story span');

    function playFromTime(startTime) {
      audio.currentTime = startTime;
      audio.play();
    }

    audio.addEventListener('timeupdate', () => {
      const currentTime = audio.currentTime;
      textSpans.forEach(span => {
        const startTime = parseFloat(span.getAttribute('data-start'));
        const endTime = startTime + 0.5; // –ö–æ—Ä–æ—Ç–∫–∏–π —á–∞—Å –ø—ñ–¥—Å–≤—ñ—á—É–≤–∞–Ω–Ω—è
        if (currentTime >= startTime && currentTime < endTime) {
          span.classList.add('highlight');
        } else {
          span.classList.remove('highlight');
        }
      });
    });

    textSpans.forEach(span => {
      const startTime = parseFloat(span.getAttribute('data-start'));
      span.addEventListener('click', () => {
        playFromTime(startTime);
      });
      span.addEventListener('touchstart', (e) => {
        e.preventDefault();
        playFromTime(startTime);
      });
    });

    // –ó–æ–±—Ä–∞–∂–µ–Ω–Ω—è
    function toggleImageSize() {
      const img = document.getElementById("storyImage");
      img.style.maxWidth = img.style.maxWidth === "100%" ? "25%" : "100%";
    }

    // –ü–∞–≥—ñ–Ω–∞—Ü—ñ—è
    const pages = document.querySelector('.pages');
    const prevBtn = document.querySelector('.arrow.prev');
    const nextBtn = document.querySelector('.arrow.next');

    prevBtn.onclick = () => pages.scrollBy({left: -80, behavior: 'smooth'});
    nextBtn.onclick = () => pages.scrollBy({left: 80, behavior: 'smooth'});

    pages.addEventListener('scroll', () => {
      prevBtn.disabled = pages.scrollLeft <= 0;
      nextBtn.disabled = pages.scrollLeft + pages.offsetWidth >= pages.scrollWidth;
    });
  </script>
</body>
</html>